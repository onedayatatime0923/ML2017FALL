
import sys
import os
os.environ['TF_CPP_MIN_LOG_LEVEL']='2'
from keras.models import load_model
import numpy as np
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'''''''''''''''''''''       setting option                           '''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
continue_file=sys.argv[1]
save_file=sys.argv[2]
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'''''''''''''''''''''       reading file                             '''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
test_x=np.load('test_x.npy')
print(test_x.shape)
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'''''''''''''''''''''       loading model                            '''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
model=load_model(continue_file)
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'''''''''''''''''''''       output                                   '''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
n_batch=128
test_y=model.predict(test_x, batch_size=n_batch, verbose=1) 
np.save(save_file,test_y)
